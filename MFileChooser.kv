<MFileChooser>:
	filecho: FileCho
	id:pop
	size_hint: .8, .8
    # auto_dismiss: False
    title: FileCho.path

	BoxLayout:
		orientation: 'vertical'
		rows: 3
	
		Label:
			size_hint: 1, .2
			text: "Select images folder"
			valign: "top"
			halign: "center"
			font_size: 30
			color: 1,0,1,1

	    FileChooserIconView:
	    	id: FileCho
	    	size_hint: 1, 1
	        filters: ["*.png", "*.jpg", "*.jpeg", "*.tiff", "*.BMP", "*.nii", "*.nii.gz", "*.zip"]
		    rootpath: root.RootPath
		    on_submit: root.dismiss_popup_volume()

	    RelativeLayout:
	    	size_hint: 1, .2
	    	orientation: 'horizontal'

	    	Button:
	    		size_hint: 0.3, .5
	    		pos_hint: {'center_x': .8, 'center_y': .5}
	    		text: "Select current folder"
	    		color: 1,1,0,1
	    		disabled: False if ([True for file in FileCho.files if file.lower().endswith(('.png', '.jpg', '.jpeg', "*.tiff", "*.BMP")) == True]) else True
	    		on_press: root.dismiss_popup_images()

	    	Button:
	    		text: "Set Folder as Root"
	    		size_hint: 0.25, .5
	    		pos_hint: {'center_x': .15, 'center_y': .5}
	    		on_press: root.path_exist(FileCho.path)

	    	Button:
	    		text: "Default Root"
	    		size_hint: 0.18, .5
	    		pos_hint: {'center_x': .38, 'center_y': .5}
	    		on_press: root.path_exist("/")

	    	Label:
	    		text: root.Invalid_Path
	    		bold: True
	    		size_hint: 0.3, .5
	    		pos_hint: {'center_x': .56, 'center_y': .55}
	    		color: 1,0,0,1

<PopupButton>:
	size_hint: 1,1